{% for property in properties %}
  <div class="col-lg-4 col-md-6 mb-4">
    <div class="card h-100">
      <div class="position-relative">
        <img
          src="{{ property.image_url|default:'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=600&q=600' }}"
          class="card-img-top"
          alt="Property Image"
          style="width: 100%; height: 250px; object-fit: cover;"
        />
        <div class="d-flex justify-content-between align-items-center position-absolute w-100 px-2 pt-1" style="top: 0; left: 0; height: 32px;">
          <span class="badge bg-success">Featured</span>
          <button class="btn btn-outline-danger btn-sm">
            <i class="far fa-heart"></i> Save
          </button>
        </div>
        <span class="price-tag">₹{{ property.price }}/mo</span>
      </div>
      <div class="card-body">
        <h5 class="card-title">{{ property.title }}</h5>
        <p class="card-text text-muted">{{ property.description }}</p>
        <div class="property-meta mb-3">
          <span><i class="fas fa-bed me-1"></i> {{ property.bedrooms }} beds</span>
          <span><i class="fas fa-bath me-1"></i> {{ property.bathrooms }} baths</span>
          <span><i class="fas fa-ruler-combined me-1"></i> {{ property.area }} sqft</span>
        </div>
        <div class="d-flex justify-content-between">
          <a href="/property/{{ property.id }}" class="btn btn-outline-primary btn-sm">
            <i class="fas fa-eye me-1"></i> View Details
          </a>
          <a href="/book/{{ property.id }}" class="btn btn-outline-success btn-sm book-now-btn">
            Book Now
          </a>
        </div>
      </div>
      <div class="card-footer bg-white border-0">
        <small class="text-muted">
          <i class="fas fa-map-marker-alt me-1"></i>
          <a href="https://www.google.com/maps?q={{ property.latitude }},{{ property.longitude }}" target="_blank">
            {{ property.location }}
          </a>
        </small>
      </div>
    </div>
  </div>
{% endfor %}

{% if properties %}
  <div class="d-flex justify-content-center mt-4">
    <nav aria-label="Property pagination">
      <ul class="pagination">
        {% if properties.has_previous %}
          <li class="page-item">
            <a class="page-link" href="?page={{ properties.previous_page_number }}">«</a>
          </li>
        {% else %}
          <li class="page-item disabled"><span class="page-link">«</span></li>
        {% endif %}

        {% for num in properties.paginator.page_range %}
          {% if properties.number == num %}
            <li class="page-item active"><span class="page-link">{{ num }}</span></li>
          {% else %}
            <li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
          {% endif %}
        {% endfor %}

        {% if properties.has_next %}
          <li class="page-item">
            <a class="page-link" href="?page={{ properties.next_page_number }}">»</a>
          </li>
        {% else %}
          <li class="page-item disabled"><span class="page-link">»</span></li>
        {% endif %}
      </ul>
    </nav>
  </div>
{% else %}
  <div class="empty-state text-center my-5">
    <div class="empty-state-icon mb-3" style="font-size: 48px; color: #ccc;">
      <i class="fas fa-home"></i>
    </div>
    <h4 class="mb-3">No Properties Found</h4>
    
  </div>
{% endif %}